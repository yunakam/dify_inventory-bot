app:
  description: ''
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: åœ¨åº«ç¢ºèªãƒœãƒƒãƒˆï¼ˆå…¬é–‹ç”¨ï¼‰
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/gemini:0.5.5@95ddc30a9d18c303cf403449bbe7da7dd60733c4cb6d985ab4b6168ff5cc3c44
    version: null
kind: app
version: 0.4.0
workflow:
  conversation_variables:
  - description: æ–°ãŸã«ãƒãƒ£ãƒƒãƒˆãŒé–‹å§‹ã—ã¦ã‚‚conversation_idã‚’ç¶­æŒã™ã‚‹ãŸã‚ã®å¤‰æ•°
    id: 3d6e66d6-5858-47a7-ab31-df059a7cb73b
    name: linking_conversation_id
    selector:
    - conversation
    - linking_conversation_id
    value: ''
    value_type: string
  - description: 'é€šçŸ¥å…ˆãƒãƒ£ãƒãƒ«ï¼š

      email

      line'
    id: d842172f-5bc1-4b04-86a3-ab65626d618d
    name: notification_channel
    selector:
    - conversation
    - notification_channel
    value: ''
    value_type: string
  - description: é€šçŸ¥å…ˆã‚¢ãƒ‰ãƒ¬ã‚¹
    id: c0e7725b-dc23-43de-ba45-2cba96d4df97
    name: notification_address
    selector:
    - conversation
    - notification_address
    value: ''
    value_type: string
  - description: 'é€šçŸ¥ã®ç¨®é¡ï¼š

      arrival

      low_stock'
    id: 96a4275f-c216-48e6-9e1e-0445e19bc04d
    name: notification_type
    selector:
    - conversation
    - notification_type
    value: ''
    value_type: string
  - description: çŠ¶æ…‹ã‚’ä¿æŒ
    id: e654e4ca-7eb0-4c50-b6a4-04920aa79069
    name: state
    selector:
    - conversation
    - state
    value: ''
    value_type: string
  - description: ''
    id: b53d4292-4988-4808-b169-9926f4d7facb
    name: notification_product_sku
    selector:
    - conversation
    - notification_product_sku
    value: ''
    value_type: string
  - description: ''
    id: 0b3a56f9-b72b-4b5e-be1f-64716f975a6e
    name: notification_product_name
    selector:
    - conversation
    - notification_product_name
    value: ''
    value_type: string
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: answer
      id: 1758698039035-source-1758698019084-target
      selected: false
      source: '1758698039035'
      sourceHandle: source
      target: '1758698019084'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: http-request
        targetType: code
      id: 1758789147097-source-1758789240545-target
      selected: false
      source: '1758789147097'
      sourceHandle: source
      target: '1758789240545'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: if-else
      id: 1758789240545-source-1758790190733-target
      selected: false
      source: '1758789240545'
      sourceHandle: source
      target: '1758790190733'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: question-classifier
        targetType: llm
      id: 1758697906290-1-1758702306235-target
      selected: false
      source: '1758697906290'
      sourceHandle: '1'
      target: '1758702306235'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: code
      id: 1758702306235-source-1758793381001-target
      selected: false
      source: '1758702306235'
      sourceHandle: source
      target: '1758793381001'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: http-request
      id: 1758793381001-source-1758789147097-target
      selected: false
      source: '1758793381001'
      sourceHandle: source
      target: '1758789147097'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: assigner
        targetType: if-else
      id: 1758862904086-source-1758861345600-target
      selected: false
      source: '1758862904086'
      sourceHandle: source
      target: '1758861345600'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: assigner
      id: 1758790190733-true-1758862904086-target
      selected: false
      source: '1758790190733'
      sourceHandle: 'true'
      target: '1758862904086'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: question-classifier
        targetType: llm
      id: 1758697906290-1758864289274-1758698039035-target
      selected: false
      source: '1758697906290'
      sourceHandle: '1758864289274'
      target: '1758698039035'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: assigner
        targetType: answer
      id: 1759127890966-source-17588641212600-target
      selected: false
      source: '1759127890966'
      sourceHandle: source
      target: '17588641212600'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: assigner
      id: 1758861345600-false-17591283116940-target
      selected: false
      source: '1758861345600'
      sourceHandle: 'false'
      target: '17591283116940'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: assigner
        targetType: answer
      id: 17591283116940-source-1758861384254-target
      selected: false
      source: '17591283116940'
      sourceHandle: source
      target: '1758861384254'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: answer
      id: 1758790190733-false-1758790215885-target
      selected: false
      source: '1758790190733'
      sourceHandle: 'false'
      target: '1758790215885'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: answer
      id: 1758861345600-true-1758790081431-target
      selected: false
      source: '1758861345600'
      sourceHandle: 'true'
      target: '1758790081431'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: start
        targetType: if-else
      id: 1758683264890-source-1759128049967-target
      selected: false
      source: '1758683264890'
      sourceHandle: source
      target: '1759128049967'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: if-else
      id: 1759128049967-cc2ab70a-c30d-41e5-9326-3f062c8c4cb7-1759138272326-target
      selected: false
      source: '1759128049967'
      sourceHandle: cc2ab70a-c30d-41e5-9326-3f062c8c4cb7
      target: '1759138272326'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: answer
      id: 1759138272326-false-1759138290988-target
      selected: false
      source: '1759138272326'
      sourceHandle: 'false'
      target: '1759138290988'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: assigner
      id: 1759128049967-false-1759138426105-target
      selected: false
      source: '1759128049967'
      sourceHandle: 'false'
      target: '1759138426105'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: assigner
        targetType: question-classifier
      id: 1759138426105-source-1758697906290-target
      selected: false
      source: '1759138426105'
      sourceHandle: source
      target: '1758697906290'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: assigner
      id: 1759128049967-true-1759138724044-target
      selected: false
      source: '1759128049967'
      sourceHandle: 'true'
      target: '1759138724044'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: answer
      id: 1759136894938-true-1759124906537-target
      selected: false
      source: '1759136894938'
      sourceHandle: 'true'
      target: '1759124906537'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: answer
      id: 1759136894938-97f69b67-10c6-4e61-b247-ec558db588fa-17591387861802-target
      selected: false
      source: '1759136894938'
      sourceHandle: 97f69b67-10c6-4e61-b247-ec558db588fa
      target: '17591387861802'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: assigner
      id: 1759138272326-true-1759137831914-target
      selected: false
      source: '1759138272326'
      sourceHandle: 'true'
      target: '1759137831914'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: assigner
        targetType: tool
      id: 1759137831914-source-1759109924778-target
      selected: false
      source: '1759137831914'
      sourceHandle: source
      target: '1759109924778'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: tool
        targetType: if-else
      id: 1759109924778-source-1759139069739-target
      selected: false
      source: '1759109924778'
      sourceHandle: source
      target: '1759139069739'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: http-request
      id: 1759139069739-true-1759105195113-target
      selected: false
      source: '1759139069739'
      sourceHandle: 'true'
      target: '1759105195113'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: http-request
      id: 1759139069739-1dcde60f-2b50-4c3e-81cb-51fd9e805e81-17591387861800-target
      selected: false
      source: '1759139069739'
      sourceHandle: 1dcde60f-2b50-4c3e-81cb-51fd9e805e81
      target: '17591387861800'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: http-request
        targetType: answer
      id: 1759105195113-source-1759139154275-target
      selected: false
      source: '1759105195113'
      sourceHandle: source
      target: '1759139154275'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: answer
        targetType: assigner
      id: 1759139154275-source-1759139119787-target
      selected: false
      source: '1759139154275'
      sourceHandle: source
      target: '1759139119787'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: answer
        targetType: http-request
      id: 1759124906537-source-1758861702582-target
      selected: false
      source: '1759124906537'
      sourceHandle: source
      target: '1758861702582'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: answer
        targetType: http-request
      id: 17591387861802-source-17591393934490-target
      selected: false
      source: '17591387861802'
      sourceHandle: source
      target: '17591393934490'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: assigner
        targetType: if-else
      id: 17592129951290-source-1759136894938-target
      selected: false
      source: '17592129951290'
      sourceHandle: source
      target: '1759136894938'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: assigner
        targetType: answer
      id: 1759138724044-source-1759213139171-target
      selected: false
      source: '1759138724044'
      sourceHandle: source
      target: '1759213139171'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: if-else
      id: 1759128049967-3dcfeee8-efef-40c8-a779-c36872f8be20-1759213303962-target
      selected: false
      source: '1759128049967'
      sourceHandle: 3dcfeee8-efef-40c8-a779-c36872f8be20
      target: '1759213303962'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: assigner
      id: 1759213303962-true-1759213376691-target
      selected: false
      source: '1759213303962'
      sourceHandle: 'true'
      target: '1759213376691'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: assigner
      id: 1759213303962-f9225058-fe47-4a83-bb18-5cb21699e430-17592134802880-target
      selected: false
      source: '1759213303962'
      sourceHandle: f9225058-fe47-4a83-bb18-5cb21699e430
      target: '17592134802880'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: assigner
        targetType: assigner
      id: 17592134802880-source-17592129951290-target
      selected: false
      source: '17592134802880'
      sourceHandle: source
      target: '17592129951290'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: if-else
      id: 1759128049967-c7b11e9c-23d0-40d1-9342-4f041aca769d-1759220584788-target
      selected: false
      source: '1759128049967'
      sourceHandle: c7b11e9c-23d0-40d1-9342-4f041aca769d
      target: '1759220584788'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: assigner
        targetType: code
      id: 1759213376691-source-1759284272217-target
      selected: false
      source: '1759213376691'
      sourceHandle: source
      target: '1759284272217'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: answer
      id: 1759284272217-source-1759220452348-target
      selected: false
      source: '1759284272217'
      sourceHandle: source
      target: '1759220452348'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: answer
      id: 1759220584788-true-1759288456848-target
      selected: false
      source: '1759220584788'
      sourceHandle: 'true'
      target: '1759288456848'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: answer
      id: 1759213303962-false-1759297829458-target
      selected: false
      source: '1759213303962'
      sourceHandle: 'false'
      target: '1759297829458'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: tool
      id: 1759220584788-false-1759109924778-target
      selected: false
      source: '1759220584788'
      sourceHandle: 'false'
      target: '1759109924778'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: http-request
        targetType: answer
      id: 17591387861800-source-17593618711180-target
      selected: false
      source: '17591387861800'
      sourceHandle: source
      target: '17593618711180'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: answer
        targetType: assigner
      id: 17593618711180-source-1759139119787-target
      selected: false
      source: '17593618711180'
      sourceHandle: source
      target: '1759139119787'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: answer
      id: 1759220584788-b05ce0dd-c2bd-4bad-be71-abaa62beb0b3-1759220600959-target
      source: '1759220584788'
      sourceHandle: b05ce0dd-c2bd-4bad-be71-abaa62beb0b3
      target: '1759220600959'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: answer
      id: 1759213303962-51e6e361-b76d-4ce0-aa71-9ddcced0b3b9-1759220600959-target
      source: '1759213303962'
      sourceHandle: 51e6e361-b76d-4ce0-aa71-9ddcced0b3b9
      target: '1759220600959'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: answer
        targetType: assigner
      id: 1759220600959-source-1759139119787-target
      source: '1759220600959'
      sourceHandle: source
      target: '1759139119787'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: assigner
      id: 1758861345600-3fb9b082-61e7-46e1-b8dd-57b722912982-1759127890966-target
      selected: false
      source: '1758861345600'
      sourceHandle: 3fb9b082-61e7-46e1-b8dd-57b722912982
      target: '1759127890966'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: answer
      id: 1758861345600-d761b53a-7852-488c-9a7d-b238ef8bf771-17593707620170-target
      selected: false
      source: '1758861345600'
      sourceHandle: d761b53a-7852-488c-9a7d-b238ef8bf771
      target: '17593707620170'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        selected: false
        title: Start
        type: start
        variables: []
      height: 51
      id: '1758683264890'
      position:
        x: 30
        y: 1939.5
      positionAbsolute:
        x: 30
        y: 1939.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        classes:
        - id: '1'
          name: 'ã‚¬ãƒ¼ãƒ‡ãƒ‹ãƒ³ã‚°ç”¨å“ã«ã¤ã„ã¦ã®å•ã„åˆã‚ã›


            ã‚¬ãƒ¼ãƒ‡ãƒ‹ãƒ³ã‚°ä½œæ¥­ã§ä¸€èˆ¬çš„ã«åˆ©ç”¨ã•ã‚Œã‚‹é“å…·ã‚„æ¶ˆè€—å“ã€æ¤ç‰©é–¢é€£ã®å•†å“ã‚’åºƒãå«ã‚€ã€‚

            ï¼ˆä¾‹ï¼‰

            æ‰‹è¢‹ã€ã‚·ãƒ£ãƒ™ãƒ«ã€ã˜ã‚‡ã†ã‚ã€ç†Šæ‰‹ã€è‚¥æ–™ã€åœŸã€ãƒ—ãƒ©ãƒ³ã‚¿ãƒ¼ã€éº»ã²ã‚‚ã€ç¨®ã€è‹—ã€é˜²è™«ã‚°ãƒƒã‚ºã€å‰ªå®šã°ã•ã¿ã€æåˆ‡ã‚Šé‹ã€é™¤è‰ç”¨å…·'
        - id: '1758864289274'
          name: 'ãã®ä»–


            ã‚¬ãƒ¼ãƒ‡ãƒ‹ãƒ³ã‚°ç”¨å“åº—ã§æ‰±ã‚ãªã„å“ç‰©ã‚„ç„¡é–¢ä¿‚ã®ç™ºè¨€ã€‚æ–‡æˆ¿å…·ã€å®¶é›»ã€é£Ÿå“ãªã©ã€‚'
        instruction: 'ã‚ãªãŸã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™ºè©±ã‚’ {ã‚¯ãƒ©ã‚¹1, ã‚¯ãƒ©ã‚¹2} ã«åˆ†é¡ã™ã‚‹ã€‚

          ï¼ˆä¾‹ï¼‰

          å…¥åŠ›:ã€Œã¯ã•ã¿ã€â†’ ã‚¯ãƒ©ã‚¹1

          å…¥åŠ›:ã€ŒåœŸã€â†’ ã‚¯ãƒ©ã‚¹1

          å…¥åŠ›:ã€Œãƒãƒ¼ãƒˆãƒ‘ã‚½ã‚³ãƒ³ã€â†’ ã‚¯ãƒ©ã‚¹2

          å…¥åŠ›:ã€Œãƒãƒ§ã‚³ãƒ¬ãƒ¼ãƒˆã€â†’ ã‚¯ãƒ©ã‚¹2


          ä¼šè©±å±¥æ­´ã‚’è€ƒæ…®ã—ã€ç›´å‰ã®å›ç­”ã«å¯¾ã™ã‚‹å†è³ªå•ï¼ˆä¾‹ï¼šã€Œãã‚Œã¯ï¼Ÿã€ã€Œã„ãã‚‰ï¼Ÿã€ç­‰ï¼‰ã¯ç›´å‰ã«æ‰±ã£ãŸã‚¯ãƒ©ã‚¹ã‚’ç¶­æŒã—ã¦åˆ†é¡ã™ã‚‹ã€‚åˆ¤å®šä¸èƒ½æ™‚ã®ã¿ ã‚¯ãƒ©ã‚¹2 ã¨ã™ã‚‹ã€‚'
        instructions: ''
        memory:
          query_prompt_template: '{{#sys.query#}}


            {{#sys.files#}}'
          window:
            enabled: true
            size: 6
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gemini-2.0-flash
          provider: langgenius/gemini/google
        query_variable_selector:
        - sys
        - query
        selected: false
        title: Question Classifier
        type: question-classifier
        vision:
          enabled: false
      height: 281
      id: '1758697906290'
      position:
        x: 2445
        y: 1964.5
      positionAbsolute:
        x: 2445
        y: 1964.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: '{{#1758698039035.text#}}'
        selected: false
        title: Answer (Other)
        type: answer
        variables: []
      height: 101
      id: '1758698019084'
      position:
        x: 3109
        y: 2181.5
      positionAbsolute:
        x: 3109
        y: 2181.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: true
          variable_selector:
          - sys
          - query
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gemini-2.0-flash
          provider: langgenius/gemini/google
        prompt_template:
        - id: 187c11ae-4928-497e-ae88-c1ce567f8c0a
          role: system
          text: '{{#sys.query#}}ã«å¯¾ã™ã‚‹1~2æ–‡ã®ç°¡æ½”ãªå›ç­”ã‚’ã€Œã§ã™ãƒ»ã¾ã™ã€èª¿ã§ç”Ÿæˆã—ã¦ã€‚

            ä¼šç¤¾ã«ã¤ã„ã¦ã®è³ªå•ã«ã¤ã„ã¦ã¯ã€ã€Œã‚¬ãƒ¼ãƒ‡ãƒ‹ãƒ³ã‚°ã‚°ãƒƒã‚ºã‚’æ‰±ã£ã¦ã„ã¾ã™ã€‚æ°—ã«ãªã‚‹å•†å“ãŒã‚ã‚Œã°æ•™ãˆã¦ãã ã•ã„ã€ã¨ç­”ãˆã‚‹ã€‚'
        - id: 01889618-61ca-440d-b0bc-eacb67ddd1db
          role: user
          text: '{{#context#}}'
        selected: false
        title: LLM (Other)
        type: llm
        vision:
          enabled: false
      height: 87
      id: '1758698039035'
      position:
        x: 2777
        y: 2201.5
      positionAbsolute:
        x: 2777
        y: 2201.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: true
          variable_selector:
          - sys
          - query
        memory:
          query_prompt_template: '{{#sys.query#}}'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 6
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gemini-2.0-flash
          provider: langgenius/gemini/google
        prompt_template:
        - id: f751db3f-5dca-48a0-bcbe-79e6cb5ef75d
          role: system
          text: "ã‚ãªãŸã¯å…¥åŠ›ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰**å•†å“åã ã‘**ã‚’æŠ½å‡ºã—ã¦è¿”ã™æŠ½å‡ºå™¨ã§ã™ã€‚\n\n## å…¥åŠ›\n- {{#context#}} ã«ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç›´è¿‘å…¥åŠ›ãŒå…¥ã‚Šã¾ã™ã€‚\n\
            - å¯èƒ½ãªã‚‰ä»¥ä¸‹ã‚‚å‚ç…§ã§ãã¾ã™ï¼ˆå­˜åœ¨ã—ãªã„å ´åˆã¯ç©ºæ–‡å­—åˆ—ã¨ã¿ãªã™ï¼‰:\n  - {{last_bot_suggestion}} â€¦ ç›´å‰ã®ãƒœãƒƒãƒˆãŒææ¡ˆã—ãŸå•†å“åï¼ˆå˜ä¸€ï¼‰\n\
            \  - {{last_user_mentioned}} â€¦ ç›´å‰ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ˜ç¤ºã—ãŸå•†å“åï¼ˆå˜ä¸€ï¼‰\n\n## ãƒ«ãƒ¼ãƒ«\n1. {{#context#}}\
            \ ã«æ˜ç¢ºãªå•†å“åãŒå«ã¾ã‚Œã‚‹å ´åˆï¼š\n   - åŠ©è©ãƒ»èªå°¾ãƒ»ç–‘å•è¡¨ç¾ã‚’å–ã‚Šé™¤ãã€**å•†å“åã®ã¿**ã‚’è¿”ã™ã€‚\n   - ä¾‹ï¼‰ã€Œã©ã‚“ãªè‚¥æ–™ãŒã‚ã‚‹ï¼Ÿã€ã€Œè‚¥æ–™ã¯ã‚ã‚‹ï¼Ÿã€â†’ã€Œè‚¥æ–™ã€\n\
            2. {{#context#}} ãŒæŒ‡ç¤ºèªï¼ˆä¾‹ï¼šãã‚Œï¼ã‚ã‚Œï¼ã“ã‚Œï¼ãã®å•†å“ï¼ã•ã£ãã®ï¼‰ã§ã€ç›´å‰ã®ãƒœãƒƒãƒˆææ¡ˆã‚’æŒ‡ã—ã¦ã„ã‚‹å ´åˆï¼š\n   - {{last_bot_suggestion}}\
            \ ã‚’**ãã®ã¾ã¾**è¿”ã™ã€‚\n3. ä¸Šè¨˜ã©ã¡ã‚‰ã«ã‚‚å½“ã¦ã¯ã¾ã‚‰ãªã„å ´åˆï¼š\n   - {{#context#}} ã‚’**ãã®ã¾ã¾**è¿”ã™ï¼ˆãŸã ã—åŠ©è©ãƒ»èªå°¾ãƒ»è¨˜å·ã¯å‰Šé™¤ï¼‰ã€‚\n\
            \n## æ­£è¦åŒ–ã‚¬ã‚¤ãƒ‰\n- å…ˆé ­ã®ç–‘å•èªã‚„ä¿®é£¾ï¼šã€Œã©ã‚“ãªã€ã€Œã©ã®ã€ã€Œä½•ã®ã€ã€Œã©ã‚Œãã‚‰ã„ã®ã€ã‚’å‰Šé™¤\n- æœ«å°¾ã®åŠ©è©ãƒ»èªå°¾ï¼šã€Œã¯ã€ã€ŒãŒã€ã€Œã£ã¦ã€ã€Œã«ã¤ã„ã¦ã€ã€Œã‚ã‚Šã¾ã™ã‹ã€ã€Œã‚ã‚‹ï¼Ÿã€ã€Œãã ã•ã„ã€ã€Œãã ã•ã„ã€‚ã€ç­‰ã‚’å‰Šé™¤\n\
            - å¥èª­ç‚¹ãƒ»è¨˜å·ãƒ»çµµæ–‡å­—ãƒ»æ”¹è¡Œã‚’ã™ã¹ã¦å‰Šé™¤\n- å‰å¾Œã®ç©ºç™½ã‚’å‰Šé™¤\n- è¤‡æ•°å€™è£œãŒä¸¦åˆ—ã•ã‚Œã¦ã„ã‚‹å ´åˆï¼ˆä¾‹ï¼šã€Œè‚¥æ–™ã¨åœŸã€ï¼‰ã¯**æœ€åˆã®1èªã®ã¿**ã‚’è¿”ã™ï¼ˆä¾‹ï¼šã€Œè‚¥æ–™ã€ï¼‰\n\
            \n## å‡ºåŠ›å½¢å¼ï¼ˆå³å®ˆï¼‰\n- **å•†å“åã®æ–‡å­—åˆ—ã®ã¿**ã‚’1è¡Œã§å‡ºåŠ›ã€‚\n- **æ”¹è¡Œãƒ»ç©ºç™½ãƒ»å¥èª­ç‚¹ãƒ»è¨˜å·ãƒ»ãƒ©ãƒ™ãƒ«ãƒ»JSONãƒ»èª¬æ˜æ–‡ã‚’ä¸€åˆ‡å«ã‚ãªã„ã€‚**\n\
            \n### ä¾‹\nå…¥åŠ›: ã€Œè‚¥æ–™ã¯ã‚ã‚‹ï¼Ÿã€ â†’ å‡ºåŠ›: ã€Œè‚¥æ–™ã€\nå…¥åŠ›: ã€Œã©ã‚“ãªè‚¥æ–™ãŒã‚ã‚‹ï¼Ÿã€ â†’ å‡ºåŠ›: ã€Œè‚¥æ–™ã€\nå…¥åŠ›: ï¼ˆç›´å‰ãƒœãƒƒãƒˆææ¡ˆ=ã€Œè™«é™¤ã‘ãƒãƒƒãƒˆã€ï¼‰,\
            \ ã€Œãã‚Œã¯ã„ãã‚‰ï¼Ÿã€ â†’ å‡ºåŠ›: ã€Œè™«é™¤ã‘ãƒãƒƒãƒˆã€\nå…¥åŠ›: ã€ŒåœŸã¨ãƒ—ãƒ©ãƒ³ã‚¿ãƒ¼ã€ â†’ å‡ºåŠ›: ã€ŒåœŸã€\n"
        - id: a9027e33-7ede-4ae1-bd85-dfaaf1893f28
          role: user
          text: ''
        selected: false
        structured_output_enabled: false
        title: Query Rewrite (å•†å“åæŠ½å‡º)
        type: llm
        vision:
          enabled: false
      height: 87
      id: '1758702306235'
      position:
        x: 2777
        y: 2074.5
      positionAbsolute:
        x: 2777
        y: 2074.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data: []
          type: none
        headers: ''
        method: get
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 100
        selected: false
        ssl_verify: true
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: HTTP Request (Gsheetã‹ã‚‰å•†å“æŠ½å‡º)
        type: http-request
        url: https://sheets.googleapis.com/v4/{{env.GOOGLE_SHEET_ID}}/values/gardening?key={{env.GOOGLE_API_KEY}}
        variables: []
      height: 201
      id: '1758789147097'
      position:
        x: 3441
        y: 2011.5
      positionAbsolute:
        x: 3441
        y: 2011.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        code: "import json\nimport unicodedata\n\ndef normalize_text(text: str) ->\
          \ str:\n    if not text:\n        return \"\"\n    # å…¨è§’â†’åŠè§’ãƒ»å¤§æ–‡å­—å°æ–‡å­—çµ±ä¸€\n  \
          \  text = unicodedata.normalize(\"NFKC\", text).lower()\n    # ã²ã‚‰ãŒãªâ†’ã‚«ã‚¿ã‚«ãƒŠ\n\
          \    hira = [chr(ord(ch) + 0x60) if \"ã\" <= ch <= \"ã‚“\" else ch for ch\
          \ in text]\n    return \"\".join(hira)\n\ndef main(product_name: str, sheet_data:\
          \ dict) -> dict:\n    cleaned_name = (product_name or \"\").strip()\n  \
          \  norm_name = normalize_text(cleaned_name)\n\n    try:\n        if isinstance(sheet_data,\
          \ str):\n            sheet_data = json.loads(sheet_data)\n        values\
          \ = sheet_data.get(\"values\", [])\n    except (json.JSONDecodeError, AttributeError):\n\
          \        values = []\n\n    for row in values[1:]:\n        if len(row)\
          \ > 1 and row[1]:\n            sheet_name = row[1]\n            norm_sheet_name\
          \ = normalize_text(sheet_name)\n\n            # æ­£è¦åŒ–å¾Œã®éƒ¨åˆ†ä¸€è‡´\n            if\
          \ norm_name in norm_sheet_name:\n                # åœ¨åº«ï¼ˆintåŒ–ï¼‰\n          \
          \      stock = None\n                if len(row) > 4 and row[4] not in (None,\
          \ \"\"):\n                    try:\n                        stock = int(row[4])\n\
          \                    except ValueError:\n                        stock =\
          \ None\n\n                price = row[2] if len(row) > 2 else \"ä¸æ˜\"\n\n\
          \                return {\n                    \"product_name\": sheet_name,\n\
          \                    \"product_sku\": row[0],\n                    \"stock\"\
          : stock,\n                    \"price\": price,\n                    \"\
          found\": True\n                }\n\n    return {\n        \"product_name\"\
          : cleaned_name,\n        \"product_sku\": None,\n        \"stock\": None,\n\
          \        \"price\": \"ä¸æ˜\",\n        \"found\": False\n    }\n"
        code_language: python3
        outputs:
          found:
            children: null
            type: boolean
          price:
            children: null
            type: string
          product_name:
            children: null
            type: string
          product_sku:
            children: null
            type: string
          stock:
            children: null
            type: number
        selected: false
        title: ã‚³ãƒ¼ãƒ‰å®Ÿè¡Œ
        type: code
        variables:
        - value_selector:
          - '1758793381001'
          - text
          value_type: string
          variable: product_name
        - value_selector:
          - '1758789147097'
          - body
          value_type: string
          variable: sheet_data
      height: 51
      id: '1758789240545'
      position:
        x: 3773
        y: 2061
      positionAbsolute:
        x: 3773
        y: 2061
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: 'ã€Œ{{#1758789240545.product_name#}}ã€ã®åœ¨åº«æƒ…å ±ï¼š


          åœ¨åº«ï¼š{{#1758789240545.stock#}}å€‹

          ä¾¡æ ¼ï¼š{{#1758789240545.price#}}å††'
        selected: false
        title: å›ç­”ï¼ˆåœ¨åº«>=10ï¼‰
        type: answer
        variables: []
      height: 154
      id: '1758790081431'
      position:
        x: 5673.054727951409
        y: 1718.2112850436151
      positionAbsolute:
        x: 5673.054727951409
        y: 1718.2112850436151
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: is
            id: 12fbc7fc-4cdc-4bf8-a71a-55cbdfbf0b0e
            value: true
            varType: boolean
            variable_selector:
            - '1758789240545'
            - found
          id: 'true'
          logical_operator: and
        selected: false
        title: IF/ELSE 2
        type: if-else
      height: 123
      id: '1758790190733'
      position:
        x: 4105
        y: 2077.5
      positionAbsolute:
        x: 4105
        y: 2077.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: ç”³ã—è¨³ã‚ã‚Šã¾ã›ã‚“ãŒã€{{#1758793381001.text#}}ã¯å–ã‚Šæ‰±ã„ãŒã”ã–ã„ã¾ã›ã‚“ã€‚
        selected: false
        title: å›ç­”ï¼ˆå–æ‰±ã„ç„¡ï¼‰
        type: answer
        variables: []
      height: 133
      id: '1758790215885'
      position:
        x: 4473.493341464696
        y: 2446.2719759624956
      positionAbsolute:
        x: 4473.493341464696
        y: 2446.2719759624956
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        code: "def main(rewritten_query: str) -> dict:\n    # æ–‡å­—åˆ—ã®å…ˆé ­ã¨æœ«å°¾ã«ã‚ã‚‹ç©ºç™½ã‚„æ”¹è¡Œã‚’ã™ã¹ã¦å‰Šé™¤\n\
          \    cleaned_query = rewritten_query.strip()\n    return {\n        \"text\"\
          : cleaned_query\n    }"
        code_language: python3
        outputs:
          text:
            children: null
            type: string
        selected: false
        title: å•†å“åæ•´å½¢
        type: code
        variables:
        - value_selector:
          - '1758702306235'
          - text
          value_type: string
          variable: rewritten_query
      height: 51
      id: '1758793381001'
      position:
        x: 3109
        y: 2079.5
      positionAbsolute:
        x: 3109
        y: 2079.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: '>'
            id: 9bb7d950-470d-40d2-837b-187a5f9c96a2
            value: '10'
            varType: number
            variable_selector:
            - '1758789240545'
            - stock
          id: 'true'
          logical_operator: and
        - case_id: 3fb9b082-61e7-46e1-b8dd-57b722912982
          conditions:
          - comparison_operator: '>'
            id: 0c5c6701-3203-4171-917a-909acfe0566b
            value: '5'
            varType: number
            variable_selector:
            - '1758789240545'
            - stock
          id: 3fb9b082-61e7-46e1-b8dd-57b722912982
          logical_operator: and
        - case_id: d761b53a-7852-488c-9a7d-b238ef8bf771
          conditions:
          - comparison_operator: â‰ 
            id: 6739b65e-29d7-44db-b31b-7e0261a9b23a
            value: '0'
            varType: number
            variable_selector:
            - '1758789240545'
            - stock
          id: d761b53a-7852-488c-9a7d-b238ef8bf771
          logical_operator: and
        selected: false
        title: åœ¨åº«ç¢ºèª
        type: if-else
      height: 219
      id: '1758861345600'
      position:
        x: 4973.679808413127
        y: 2103.7421393867526
      positionAbsolute:
        x: 4973.679808413127
        y: 2103.7421393867526
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: 'ç”³ã—è¨³ã‚ã‚Šã¾ã›ã‚“ãŒã€Œ{{#1758789240545.product_name#}}ã€ã¯ç¾åœ¨åœ¨åº«ãŒã”ã–ã„ã¾ã›ã‚“ã€‚


          å…¥è·æ™‚ã«é€šçŸ¥ã‚’ã”å¸Œæœ›ã§ã™ã‹ï¼Ÿ

          å¸Œæœ›ã•ã‚Œã‚‹å ´åˆã¯ã€ã€Œå¸Œæœ›ã™ã‚‹ã€ã¨è¿”ä¿¡ã—ã¦ãã ã•ã„ã€‚'
        selected: false
        title: å›ç­”ï¼ˆåœ¨åº«=0ï¼‰
        type: answer
        variables: []
      height: 165
      id: '1758861384254'
      position:
        x: 5673.054727951409
        y: 2360.4865666916767
      positionAbsolute:
        x: 5673.054727951409
        y: 2360.4865666916767
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        items:
        - input_type: variable
          operation: over-write
          value:
          - '1758789240545'
          - product_name
          variable_selector:
          - conversation
          - notification_product_name
          write_mode: over-write
        - input_type: variable
          operation: over-write
          value:
          - '1758789240545'
          - product_sku
          variable_selector:
          - conversation
          - notification_product_sku
          write_mode: over-write
        selected: false
        title: Variable Assigner
        type: assigner
        version: '2'
      height: 109
      id: '1758862904086'
      position:
        x: 4641.679808413127
        y: 2103.7421393867526
      positionAbsolute:
        x: 4641.679808413127
        y: 2103.7421393867526
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: 'ã€Œ{{#1758789240545.product_name#}}ã€ã®åœ¨åº«æƒ…å ±ï¼š


          åœ¨åº«ï¼š{{#1758789240545.stock#}}å€‹

          ä¾¡æ ¼ï¼š{{#1758789240545.price#}}å††


          åœ¨åº«ãŒå°‘ãªããªã£ã¦ã„ã¾ã™ã€‚åœ¨åº«ãŒ5ä»¥ä¸‹ã«ãªã£ãŸã‚‰é€šçŸ¥ã‚’ã”å¸Œæœ›ã§ã™ã‹ï¼Ÿ

          å¸Œæœ›ã•ã‚Œã‚‹å ´åˆã¯ã€ã€Œå¸Œæœ›ã™ã‚‹ã€ã¨è¿”ä¿¡ã—ã¦ãã ã•ã„ã€‚'
        selected: false
        title: å›ç­”ï¼ˆ5<åœ¨åº«<=10ï¼‰
        type: answer
        variables: []
      height: 202
      id: '17588641212600'
      position:
        x: 5674.155358309647
        y: 1914.2632633119
      positionAbsolute:
        x: 5674.155358309647
        y: 1914.2632633119
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-39
            key: ''
            type: text
            value: "{\n  \"intent\": \"arrival\",\n  \"sku\": \"{{#conversation.notification_product_sku#}}\"\
              ,\n  \"product_name\": \"{{#conversation.notification_product_name#}}\"\
              ,\n  \"channel\": \"{{#conversation.notification_channel#}}\",\n  \"\
              address\": \"{{#conversation.notification_address#}}\",\n  \"user_id\"\
              : \"{{#sys.user_id#}}\",\n  \"status\": \"pending\",\n  \"created_at\"\
              : \"{{#1759109924778.text#}}\"\n}"
          type: json
        headers: ''
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 100
        selected: false
        ssl_verify: true
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: HTTP Request (å…¥è·é€šçŸ¥toGAS)
        type: http-request
        url: https://script.google.com/macros/s/AKfycbyuCGhzkWl-YOQBJqKTx-RR3Q0JlvsFN_NG8EweL_ai2vDdVCWcGPxwtW33jJPkgSCz/exec
        variables: []
      height: 185
      id: '1759105195113'
      position:
        x: 3441
        y: 732
      positionAbsolute:
        x: 3441
        y: 732
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        is_team_authorization: true
        paramSchemas:
        - auto_generate: null
          default: '%Y-%m-%d %H:%M:%S'
          form: form
          human_description:
            en_US: Time format in strftime standard.
            ja_JP: Time format in strftime standard.
            pt_BR: Time format in strftime standard.
            zh_Hans: strftime æ ‡å‡†çš„æ—¶é—´æ ¼å¼ã€‚
          label:
            en_US: Format
            ja_JP: Format
            pt_BR: Format
            zh_Hans: æ ¼å¼
          llm_description: null
          max: null
          min: null
          name: format
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: UTC
          form: form
          human_description:
            en_US: Timezone
            ja_JP: Timezone
            pt_BR: Timezone
            zh_Hans: æ—¶åŒº
          label:
            en_US: Timezone
            ja_JP: Timezone
            pt_BR: Timezone
            zh_Hans: æ—¶åŒº
          llm_description: null
          max: null
          min: null
          name: timezone
          options:
          - icon: null
            label:
              en_US: UTC
              ja_JP: UTC
              pt_BR: UTC
              zh_Hans: UTC
            value: UTC
          - icon: null
            label:
              en_US: America/New_York
              ja_JP: America/New_York
              pt_BR: America/New_York
              zh_Hans: ç¾æ´²/çº½çº¦
            value: America/New_York
          - icon: null
            label:
              en_US: America/Los_Angeles
              ja_JP: America/Los_Angeles
              pt_BR: America/Los_Angeles
              zh_Hans: ç¾æ´²/æ´›æ‰çŸ¶
            value: America/Los_Angeles
          - icon: null
            label:
              en_US: America/Chicago
              ja_JP: America/Chicago
              pt_BR: America/Chicago
              zh_Hans: ç¾æ´²/èŠåŠ å“¥
            value: America/Chicago
          - icon: null
            label:
              en_US: America/Sao_Paulo
              ja_JP: America/Sao_Paulo
              pt_BR: AmÃ©rica/SÃ£o Paulo
              zh_Hans: ç¾æ´²/åœ£ä¿ç½—
            value: America/Sao_Paulo
          - icon: null
            label:
              en_US: Asia/Shanghai
              ja_JP: Asia/Shanghai
              pt_BR: Asia/Shanghai
              zh_Hans: äºšæ´²/ä¸Šæµ·
            value: Asia/Shanghai
          - icon: null
            label:
              en_US: Asia/Ho_Chi_Minh
              ja_JP: Asia/Ho_Chi_Minh
              pt_BR: Ãsia/Ho Chi Minh
              zh_Hans: äºšæ´²/èƒ¡å¿—æ˜å¸‚
            value: Asia/Ho_Chi_Minh
          - icon: null
            label:
              en_US: Asia/Tokyo
              ja_JP: Asia/Tokyo
              pt_BR: Asia/Tokyo
              zh_Hans: äºšæ´²/ä¸œäº¬
            value: Asia/Tokyo
          - icon: null
            label:
              en_US: Asia/Dubai
              ja_JP: Asia/Dubai
              pt_BR: Asia/Dubai
              zh_Hans: äºšæ´²/è¿ªæ‹œ
            value: Asia/Dubai
          - icon: null
            label:
              en_US: Asia/Kolkata
              ja_JP: Asia/Kolkata
              pt_BR: Asia/Kolkata
              zh_Hans: äºšæ´²/åŠ å°”å„ç­”
            value: Asia/Kolkata
          - icon: null
            label:
              en_US: Asia/Seoul
              ja_JP: Asia/Seoul
              pt_BR: Asia/Seoul
              zh_Hans: äºšæ´²/é¦–å°”
            value: Asia/Seoul
          - icon: null
            label:
              en_US: Asia/Singapore
              ja_JP: Asia/Singapore
              pt_BR: Asia/Singapore
              zh_Hans: äºšæ´²/æ–°åŠ å¡
            value: Asia/Singapore
          - icon: null
            label:
              en_US: Europe/London
              ja_JP: Europe/London
              pt_BR: Europe/London
              zh_Hans: æ¬§æ´²/ä¼¦æ•¦
            value: Europe/London
          - icon: null
            label:
              en_US: Europe/Berlin
              ja_JP: Europe/Berlin
              pt_BR: Europe/Berlin
              zh_Hans: æ¬§æ´²/æŸæ—
            value: Europe/Berlin
          - icon: null
            label:
              en_US: Europe/Moscow
              ja_JP: Europe/Moscow
              pt_BR: Europe/Moscow
              zh_Hans: æ¬§æ´²/è«æ–¯ç§‘
            value: Europe/Moscow
          - icon: null
            label:
              en_US: Australia/Sydney
              ja_JP: Australia/Sydney
              pt_BR: Australia/Sydney
              zh_Hans: æ¾³å¤§åˆ©äºš/æ‚‰å°¼
            value: Australia/Sydney
          - icon: null
            label:
              en_US: Pacific/Auckland
              ja_JP: Pacific/Auckland
              pt_BR: Pacific/Auckland
              zh_Hans: å¤ªå¹³æ´‹/å¥¥å…‹å…°
            value: Pacific/Auckland
          - icon: null
            label:
              en_US: Africa/Cairo
              ja_JP: Africa/Cairo
              pt_BR: Africa/Cairo
              zh_Hans: éæ´²/å¼€ç½—
            value: Africa/Cairo
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: select
        params:
          format: ''
          timezone: ''
        provider_id: time
        provider_name: time
        provider_type: builtin
        selected: false
        title: Current Time
        tool_configurations:
          format:
            type: mixed
            value: '%Y-%m-%d %H:%M:%S'
          timezone:
            type: constant
            value: Asia/Tokyo
        tool_description: A tool for getting the current time.
        tool_label: Current Time
        tool_name: current_time
        tool_node_version: '2'
        tool_parameters: {}
        type: tool
      height: 113
      id: '1759109924778'
      position:
        x: 2113
        y: 732
      positionAbsolute:
        x: 2113
        y: 732
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: 'æ‰¿çŸ¥ã„ãŸã—ã¾ã—ãŸã€‚{{#conversation.notification_product_name#}}ãŒå…¥è·ã—ã¾ã—ãŸã‚‰ãƒ¡ãƒ¼ãƒ«ã§é€šçŸ¥ã„ãŸã—ã¾ã™ã€‚

          ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¨˜å…¥ã—ã¦ãã ã•ã„ã€‚'
        selected: false
        title: ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹è¨˜å…¥ä¾é ¼ï¼ˆå…¥è·é€šçŸ¥ï¼‰
        type: answer
        variables: []
      height: 150
      id: '1759124906537'
      position:
        x: 3773
        y: 1193
      positionAbsolute:
        x: 3773
        y: 1193
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        items:
        - input_type: constant
          operation: set
          value: waiting_for_notification_request
          variable_selector:
          - conversation
          - state
          write_mode: over-write
        - input_type: constant
          operation: set
          value: low_stock
          variable_selector:
          - conversation
          - notification_type
          write_mode: over-write
        selected: false
        title: 'Variable Assigner (State: åœ¨åº«æ¸›é€šçŸ¥ä¾é ¼å¾…ã¡)'
        type: assigner
        version: '2'
      height: 109
      id: '1759127890966'
      position:
        x: 5342.155358309647
        y: 1914.2632633119
      positionAbsolute:
        x: 5342.155358309647
        y: 1914.2632633119
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        cases:
        - case_id: c7b11e9c-23d0-40d1-9342-4f041aca769d
          conditions:
          - comparison_operator: is
            id: e934cb1b-2c97-401b-964b-748fb016127b
            value: waiting_for_line_account
            varType: string
            variable_selector:
            - conversation
            - state
          id: c7b11e9c-23d0-40d1-9342-4f041aca769d
          logical_operator: and
        - case_id: cc2ab70a-c30d-41e5-9326-3f062c8c4cb7
          conditions:
          - comparison_operator: is
            id: 017ff7fe-aae8-4f31-9ec3-2ea2af9a59ae
            value: waiting_for_email_address
            varType: string
            variable_selector:
            - conversation
            - state
          id: cc2ab70a-c30d-41e5-9326-3f062c8c4cb7
          logical_operator: and
        - case_id: 3dcfeee8-efef-40c8-a779-c36872f8be20
          conditions:
          - comparison_operator: is
            id: 37409a2e-925f-404c-98eb-948dd414ff06
            value: waiting_for_channel
            varType: string
            variable_selector:
            - conversation
            - state
          id: 3dcfeee8-efef-40c8-a779-c36872f8be20
          logical_operator: and
        - case_id: 'true'
          conditions:
          - comparison_operator: is
            id: 656a2383-b13d-4bf2-9021-ae5ca86d291f
            value: waiting_for_notification_request
            varType: string
            variable_selector:
            - conversation
            - state
          - comparison_operator: contains
            id: 7de638ee-73b8-45fb-9def-79d3cb5e8e7f
            value: å¸Œæœ›
            varType: string
            variable_selector:
            - sys
            - query
          id: 'true'
          logical_operator: and
        selected: false
        title: IF/ELSE (stateç¢ºèª)
        type: if-else
      height: 293
      id: '1759128049967'
      position:
        x: 362
        y: 1939.5
      positionAbsolute:
        x: 362
        y: 1939.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        items:
        - input_type: constant
          operation: set
          value: waiting_for_notification_request
          variable_selector:
          - conversation
          - state
          write_mode: over-write
        - input_type: constant
          operation: set
          value: arrival
          variable_selector:
          - conversation
          - notification_type
          write_mode: over-write
        selected: false
        title: 'Variable Assigner (state: å…¥è·é€šçŸ¥ä¾é ¼å¾…ã¡)'
        type: assigner
        version: '2'
      height: 109
      id: '17591283116940'
      position:
        x: 5341.054727951409
        y: 2360.4865666916767
      positionAbsolute:
        x: 5341.054727951409
        y: 2360.4865666916767
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: is
            id: a1b7dcd7-7f96-4e0b-97c0-0771b6dbeac5
            value: arrival
            varType: string
            variable_selector:
            - conversation
            - notification_type
          id: 'true'
          logical_operator: and
        - case_id: 97f69b67-10c6-4e61-b247-ec558db588fa
          conditions:
          - comparison_operator: is
            id: d72b2766-bea1-4c72-a9f4-325ecf20bafd
            value: low_stock
            varType: string
            variable_selector:
            - conversation
            - notification_type
          id: 97f69b67-10c6-4e61-b247-ec558db588fa
          logical_operator: and
        selected: false
        title: é€šçŸ¥ã‚¿ã‚¤ãƒ—åˆ†å²
        type: if-else
      height: 171
      id: '1759136894938'
      position:
        x: 3109
        y: 1485
      positionAbsolute:
        x: 3109
        y: 1485
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        items:
        - input_type: variable
          operation: over-write
          value:
          - sys
          - query
          variable_selector:
          - conversation
          - notification_address
          write_mode: over-write
        selected: false
        title: Set notification_address (Email)
        type: assigner
        version: '2'
      height: 83
      id: '1759137831914'
      position:
        x: 1781
        y: 859.5
      positionAbsolute:
        x: 1781
        y: 859.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: 83767b4d-770a-49f8-9e2c-b3f2033ee42a
            value: '@'
            varType: string
            variable_selector:
            - sys
            - query
          id: 'true'
          logical_operator: and
        selected: false
        title: Verify email address
        type: if-else
      height: 123
      id: '1759138272326'
      position:
        x: 1117
        y: 955
      positionAbsolute:
        x: 1117
        y: 955
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: æ­£ã—ã„ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¨˜å…¥ã—ã¦ãã ã•ã„ã€‚
        selected: false
        title: Invalid Email
        type: answer
        variables: []
      height: 99
      id: '1759138290988'
      position:
        x: 2113
        y: 982
      positionAbsolute:
        x: 2113
        y: 982
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        items:
        - input_type: variable
          operation: clear
          value: ''
          variable_selector:
          - conversation
          - state
          write_mode: over-write
        selected: false
        title: Clear state (é€šçŸ¥å¸Œæœ›ã—ãªã„)
        type: assigner
        version: '2'
      height: 83
      id: '1759138426105'
      position:
        x: 2113
        y: 2034.5
      positionAbsolute:
        x: 2113
        y: 2034.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        items:
        - input_type: constant
          operation: set
          value: waiting_for_channel
          variable_selector:
          - conversation
          - state
          write_mode: over-write
        selected: false
        title: Set state to waiting_for_channel
        type: assigner
        version: '2'
      height: 83
      id: '1759138724044'
      position:
        x: 1781
        y: 1844
      positionAbsolute:
        x: 1781
        y: 1844
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-39
            key: ''
            type: text
            value: "{\n  \"intent\": \"low_stock\",\n  \"sku\": \"{{#conversation.notification_product_sku#}}\"\
              ,\n  \"product_name\": \"{{#conversation.notification_product_name#}}\"\
              ,\n  \"channel\": \"{{#conversation.notification_channel#}}\",\n  \"\
              address\": \"{{#conversation.notification_address#}}\",\n  \"user_id\"\
              : \"{{#sys.user_id#}}\",\n  \"status\": \"pending\",\n  \"created_at\"\
              : \"{{#1759109924778.text#}}\"\n}"
          type: json
        headers: ''
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 100
        selected: false
        ssl_verify: true
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: HTTP Request (åœ¨åº«æ¸›é€šçŸ¥toGAS)
        type: http-request
        url: https://script.google.com/macros/s/AKfycbyuCGhzkWl-YOQBJqKTx-RR3Q0JlvsFN_NG8EweL_ai2vDdVCWcGPxwtW33jJPkgSCz/exec
        variables: []
      height: 185
      id: '17591387861800'
      position:
        x: 3441
        y: 957
      positionAbsolute:
        x: 3441
        y: 957
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: 'æ‰¿çŸ¥ã„ãŸã—ã¾ã—ãŸã€‚{{#conversation.notification_product_name#}}ã®åœ¨åº«ãŒ5ä»¥ä¸‹ã«ãªã‚Šã¾ã—ãŸã‚‰ãƒ¡ãƒ¼ãƒ«ã§é€šçŸ¥ã„ãŸã—ã¾ã™ã€‚

          ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¨˜å…¥ã—ã¦ãã ã•ã„ã€‚'
        selected: false
        title: ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹è¨˜å…¥ä¾é ¼ï¼ˆåœ¨åº«æ¸›é€šçŸ¥ï¼‰
        type: answer
        variables: []
      height: 150
      id: '17591387861802'
      position:
        x: 4105
        y: 1549.5
      positionAbsolute:
        x: 4105
        y: 1549.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: 25dfac80-c0eb-458e-bb4e-ce54ef04e997
            value: arrival
            varType: string
            variable_selector:
            - conversation
            - notification_type
          id: 'true'
          logical_operator: and
        - case_id: 1dcde60f-2b50-4c3e-81cb-51fd9e805e81
          conditions:
          - comparison_operator: contains
            id: 8aac7925-578b-4c0b-9386-cf84a458790f
            value: low_stock
            varType: string
            variable_selector:
            - conversation
            - notification_type
          id: 1dcde60f-2b50-4c3e-81cb-51fd9e805e81
          logical_operator: and
        selected: false
        title: é€šçŸ¥ã‚¿ã‚¤ãƒ—åˆ†å²
        type: if-else
      height: 171
      id: '1759139069739'
      position:
        x: 2445
        y: 732
      positionAbsolute:
        x: 2445
        y: 732
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        items:
        - input_type: variable
          operation: clear
          value: ''
          variable_selector:
          - conversation
          - state
          write_mode: over-write
        - input_type: variable
          operation: clear
          value: ''
          variable_selector:
          - conversation
          - notification_type
          write_mode: over-write
        - input_type: variable
          operation: clear
          value: ''
          variable_selector:
          - conversation
          - notification_address
          write_mode: over-write
        - input_type: variable
          operation: clear
          value: ''
          variable_selector:
          - conversation
          - notification_address
          write_mode: over-write
        - input_type: variable
          operation: clear
          value: ''
          variable_selector:
          - conversation
          - notification_product_sku
          write_mode: over-write
        - input_type: variable
          operation: clear
          value: ''
          variable_selector:
          - conversation
          - notification_product_name
          write_mode: over-write
        - input_type: variable
          operation: clear
          value: ''
          variable_selector:
          - conversation
          - notification_channel
          write_mode: over-write
        selected: false
        title: å¤‰æ•°åˆæœŸåŒ–
        type: assigner
        version: '2'
      height: 239
      id: '1759139119787'
      position:
        x: 4105
        y: 957
      positionAbsolute:
        x: 4105
        y: 957
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: 'ã‹ã—ã“ã¾ã‚Šã¾ã—ãŸã€‚

          {{#conversation.notification_product_name#}}ãŒå…¥è·ã•ã‚Œã¾ã—ãŸã‚‰ãŠçŸ¥ã‚‰ã›ã„ãŸã—ã¾ã™ã€‚'
        selected: false
        title: åœ¨åº«>0ã§é€šçŸ¥ã™ã‚‹
        type: answer
        variables: []
      height: 134
      id: '1759139154275'
      position:
        x: 3773
        y: 732
      positionAbsolute:
        x: 3773
        y: 732
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        items:
        - input_type: constant
          operation: set
          value: waiting_for_email_address
          variable_selector:
          - conversation
          - state
          write_mode: over-write
        selected: false
        title: Set state to waiting_for_address (1)
        type: assigner
        version: '2'
      height: 83
      id: '17592129951290'
      position:
        x: 2777
        y: 1542
      positionAbsolute:
        x: 2777
        y: 1542
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: æ‰¿çŸ¥ã—ã¾ã—ãŸã€‚é€šçŸ¥æ–¹æ³•ã¯ã€ŒEãƒ¡ãƒ¼ãƒ«ã€ã¨ã€ŒLINEã€ã®ã©ã¡ã‚‰ã‚’ã”å¸Œæœ›ã§ã™ã‹ï¼Ÿ
        selected: false
        title: é€šçŸ¥å…ˆãƒãƒ£ãƒãƒ«ç¢ºèª
        type: answer
        variables: []
      height: 115
      id: '1759213139171'
      position:
        x: 2113
        y: 1827
      positionAbsolute:
        x: 2113
        y: 1827
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: cb2bcfde-8511-4d5a-a142-70e63451b290
            value: LINE
            varType: string
            variable_selector:
            - sys
            - query
          - comparison_operator: contains
            id: e72f40c0-0098-4c3c-832b-7ae98a4054db
            value: ãƒ©ã‚¤ãƒ³
            varType: string
            variable_selector:
            - sys
            - query
          - comparison_operator: contains
            id: 6fc0a135-7072-4c76-a717-2ebeb64b324d
            value: ã‚‰ã„ã‚“
            varType: string
            variable_selector:
            - sys
            - query
          - comparison_operator: contains
            id: 8da4a023-6330-405f-b70e-912940b935c6
            value: line
            varType: string
            variable_selector:
            - sys
            - query
          - comparison_operator: contains
            id: 75e9a220-787f-424b-b0b9-22d6a3afef9b
            value: Line
            varType: string
            variable_selector:
            - sys
            - query
          id: 'true'
          logical_operator: or
        - case_id: f9225058-fe47-4a83-bb18-5cb21699e430
          conditions:
          - comparison_operator: contains
            id: ae6c841c-5d0b-4bd7-8720-0f1d25e80593
            value: ãƒ¡ãƒ¼ãƒ«
            varType: string
            variable_selector:
            - sys
            - query
          - comparison_operator: contains
            id: f7285b09-7378-4965-ae1c-2aa3f3634e34
            value: mail
            varType: string
            variable_selector:
            - sys
            - query
          - comparison_operator: contains
            id: 8249d86d-ddd1-4cf0-a9ff-81ed91d27cd3
            value: ã‚ãƒ¼ã‚‹
            varType: string
            variable_selector:
            - sys
            - query
          - comparison_operator: contains
            id: b52434e7-e625-41ac-8ccd-b8bec6f570bd
            value: MAIL
            varType: string
            variable_selector:
            - sys
            - query
          id: f9225058-fe47-4a83-bb18-5cb21699e430
          logical_operator: or
        - case_id: 51e6e361-b76d-4ce0-aa71-9ddcced0b3b9
          conditions:
          - comparison_operator: contains
            id: 423622d6-ae7e-43bd-b5ec-9d3effb895fc
            value: çµ‚äº†
            varType: string
            variable_selector:
            - sys
            - query
          id: 51e6e361-b76d-4ce0-aa71-9ddcced0b3b9
          logical_operator: and
        selected: false
        title: é€šçŸ¥å¸Œæœ›ãƒãƒ£ãƒãƒ«åˆ†å²
        type: if-else
      height: 401
      id: '1759213303962'
      position:
        x: 1449
        y: 1640.5
      positionAbsolute:
        x: 1449
        y: 1640.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        items:
        - input_type: constant
          operation: set
          value: line
          variable_selector:
          - conversation
          - notification_channel
          write_mode: over-write
        - input_type: constant
          operation: set
          value: waiting_for_line_account
          variable_selector:
          - conversation
          - state
          write_mode: over-write
        selected: false
        title: Set notif_ch to line
        type: assigner
        version: '2'
      height: 109
      id: '1759213376691'
      position:
        x: 2113
        y: 1307
      positionAbsolute:
        x: 2113
        y: 1307
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        items:
        - input_type: constant
          operation: set
          value: email
          variable_selector:
          - conversation
          - notification_channel
          write_mode: over-write
        - input_type: constant
          operation: set
          value: waiting_for_email_address
          variable_selector:
          - conversation
          - state
          write_mode: over-write
        selected: false
        title: Set notif_ch to email
        type: assigner
        version: '2'
      height: 109
      id: '17592134802880'
      position:
        x: 2445
        y: 1516
      positionAbsolute:
        x: 2445
        y: 1516
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: 'æ‰¿çŸ¥ã—ã¾ã—ãŸã€‚

          ä»¥ä¸‹ã®ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€ãŠä½¿ã„ã®LINEã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¨ã®é€£æºã‚’è¨±å¯ã—ã¦ãã ã•ã„ã€‚


          [ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’é€£æºã™ã‚‹]({{#1759284272217.line_login_url#}})


          LINEã‚¢ã‚«ã‚¦ãƒ³ãƒˆé€£æºãŒå®Œäº†ã™ã‚‹ã¨ã€ã“ã®ç”»é¢ã¯è‡ªå‹•ã§é–‰ã˜ã¾ã™ã€‚ãã®å¾Œã€ãƒãƒ£ãƒƒãƒˆã«æˆ»ã£ã¦ã€Œé€£æºå®Œäº†ã€ã¨ãŠä¼ãˆãã ã•ã„ã€‚'
        selected: false
        title: LINEé€£æºä¾é ¼
        type: answer
        variables: []
      height: 197
      id: '1759220452348'
      position:
        x: 2777
        y: 1305
      positionAbsolute:
        x: 2777
        y: 1305
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        cases:
        - case_id: b05ce0dd-c2bd-4bad-be71-abaa62beb0b3
          conditions:
          - comparison_operator: contains
            id: fb5d3982-c1ba-47bf-9d83-a849fcfcf1af
            value: çµ‚äº†
            varType: string
            variable_selector:
            - sys
            - query
          id: b05ce0dd-c2bd-4bad-be71-abaa62beb0b3
          logical_operator: or
        - case_id: 'true'
          conditions:
          - comparison_operator: not contains
            id: c4cb50d9-dab0-4766-9215-f0869bfa5df8
            value: é€£æºå®Œäº†
            varType: string
            variable_selector:
            - sys
            - query
          id: 'true'
          logical_operator: and
        selected: false
        title: LINEé€£æºå®Œäº†ã‹ç¢ºèª
        type: if-else
      height: 171
      id: '1759220584788'
      position:
        x: 785
        y: 609.5
      positionAbsolute:
        x: 785
        y: 609.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: ãƒãƒ£ãƒƒãƒˆã‚’çµ‚äº†ã—ã¾ã™ã€‚
        selected: false
        title: ãƒãƒ£ãƒƒãƒˆçµ‚äº†
        type: answer
        variables: []
      height: 99
      id: '1759220600959'
      position:
        x: 3773
        y: 1383
      positionAbsolute:
        x: 3773
        y: 1383
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        code: "import urllib.parse\n\ndef main(client_id: str, redirect_uri: str,\
          \ user_id: str) -> dict:\n    \"\"\"\n    LINEãƒ­ã‚°ã‚¤ãƒ³ç”¨ã®URLã‚’ç”Ÿæˆã™ã‚‹\n    \"\"\"\
          \n    base_url = \"https://access.line.me/oauth2/v2.1/authorize\"\n    params\
          \ = {\n        \"response_type\": \"code\",\n        \"client_id\": client_id,\n\
          \        \"redirect_uri\": redirect_uri,\n        \"state\": user_id,\n\
          \        \"scope\": \"profile openid\"\n    }\n\n    login_url = f\"{base_url}?{urllib.parse.urlencode(params)}\"\
          \n\n    return {\n        \"line_login_url\": login_url\n    }\n"
        code_language: python3
        outputs:
          line_login_url:
            children: null
            type: string
        selected: false
        title: LINEãƒ­ã‚°ã‚¤ãƒ³URLç”Ÿæˆ
        type: code
        variables:
        - value_selector:
          - sys
          - user_id
          value_type: string
          variable: user_id
      height: 51
      id: '1759284272217'
      position:
        x: 2445
        y: 1365
      positionAbsolute:
        x: 2445
        y: 1365
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: LINEã‚¢ã‚«ã‚¦ãƒ³ãƒˆé€£æºã‚’ã›ãšã«ãƒãƒ£ãƒƒãƒˆã‚’çµ‚äº†ã™ã‚‹å ´åˆã¯ã€ã€Œçµ‚äº†ã€ã¨å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
        selected: false
        title: LINEé€£æºã›ãšã«çµ‚äº†ï¼Ÿ
        type: answer
        variables: []
      height: 115
      id: '1759288456848'
      position:
        x: 1781
        y: 482
      positionAbsolute:
        x: 1781
        y: 482
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        author: yuriko.nakamura@reysolid.co.jp
        desc: ''
        height: 88
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"font-size:
          16px;","text":"ãƒãƒ£ãƒƒãƒˆçµ‚äº†","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textStyle":"font-size:
          16px;","textFormat":0}],"direction":"ltr","format":"","indent":0,"type":"root","version":1,"textStyle":"font-size:
          16px;"}}'
        theme: blue
        title: ''
        type: ''
        width: 240
      height: 88
      id: '1759297758701'
      position:
        x: 2011.5482345084606
        y: -166.46010692395424
      positionAbsolute:
        x: 2011.5482345084606
        y: -166.46010692395424
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 240
    - data:
        answer: é€šçŸ¥è¨­å®šã‚’ã›ãšçµ‚äº†ã™ã‚‹å ´åˆã¯ã€ã€Œçµ‚äº†ã€ã¨å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
        selected: false
        title: é€šçŸ¥è¨­å®šã›ãšçµ‚äº†ï¼Ÿ
        type: answer
        variables: []
      height: 115
      id: '1759297829458'
      position:
        x: 4105
        y: 1762.5
      positionAbsolute:
        x: 4105
        y: 1762.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: 'ã‹ã—ã“ã¾ã‚Šã¾ã—ãŸã€‚

          {{#conversation.notification_product_name#}}ã®åœ¨åº«ãŒ5ä»¥ä¸‹ã¨ãªã‚Šã¾ã—ãŸã‚‰ãŠçŸ¥ã‚‰ã›ã„ãŸã—ã¾ã™ã€‚'
        selected: false
        title: åœ¨åº«<=5ã§é€šçŸ¥ã™ã‚‹
        type: answer
        variables: []
      height: 134
      id: '17593618711180'
      position:
        x: 3773
        y: 957
      positionAbsolute:
        x: 3773
        y: 957
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: 'ã€Œ{{#1758789240545.product_name#}}ã€ã®åœ¨åº«æƒ…å ±ï¼š


          åœ¨åº«ï¼š{{#1758789240545.stock#}}å€‹

          ä¾¡æ ¼ï¼š{{#1758789240545.price#}}å††


          åœ¨åº«ãŒæ®‹ã‚Šã‚ãšã‹ã§ã™ã€‚ãŠæ—©ã‚ã«ãŠæ±‚ã‚ãã ã•ã„ã€‚'
        selected: false
        title: å›ç­”ï¼ˆ0<åœ¨åº«<=5ï¼‰
        type: answer
        variables: []
      height: 170
      id: '17593707620170'
      position:
        x: 5674.155358309647
        y: 2156.2632633119
      positionAbsolute:
        x: 5674.155358309647
        y: 2156.2632633119
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    viewport:
      x: -609.5361846059639
      y: -353.7578712817576
      zoom: 0.37892914162759983
  rag_pipeline_variables: []
